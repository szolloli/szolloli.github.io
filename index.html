<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rapyd Checkout Toolkit</title>
</head>

<body style="background-color: #f2f2f2; display: flex; align-items: center; flex-direction: column; margin: 0">
<h1>Rapyd Checkout Toolkit Demo</h1>
<div id="loader">Loading...</div>
<div id="error" style="display: none;"></div>
<div style="width: 390px" id="rapyd-checkout"></div>
<script src="https://sandboxcheckouttoolkit.rapyd.net"></script>
<script>
  let checkout = new RapydCheckoutToolkit({
    pay_button_text: "Click to pay",
    pay_button_color: "blue",
    id: "checkout_07194759cb466a00df766a4e80429753"
  });
  checkout.displayCheckout();
  window.addEventListener('onLoading', (event) => {
    if (event.detail.loading === false) {
      const loader = document.getElementById('loader');
      loader.style.display = 'none';
    }
  });
  window.addEventListener('onCheckoutPaymentSuccess', function (event) {
    console.log(event.detail)
  });
  window.addEventListener('checkoutOnFailed', function (event) {
    const loader = document.getElementById('error');
    loader.style.display = '';
    loader.style.color = 'red';
    loader.innerText = event.detail.error;
  });
  window.addEventListener('onCheckoutPaymentFailure', function (event) {
    console.log(event.detail.error)
  });
</script>
</body>

</html>
