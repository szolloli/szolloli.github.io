<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style type="text/css">
            body
            {
                background-color: #f2f2f2; display: flex; align-items: center; flex-direction: column; margin: 0;
            }
        </style>
</head>

<body>
    <div  style="width: 390px" id="rapyd-checkout"></div>

    <!-- code to display the iframe -->
    <script src="https://checkouttoolkit.rapyd.net"></script>
    <script>
        window.onload = function () { 
            let checkout = new RapydCheckoutToolkit({
                pay_button_text: "Top up",
                pay_button_color: "#004EA8",
                id:  'checkout_5958d592a7dbd0ca0d10aabfeea1c311', // your checkout page id goes here
                close_on_complete: true,
            });
            checkout.displayCheckout();
        }
        window.addEventListener('onCheckoutPaymentSuccess', function (event) {
            if (event.detail.status === 'CLO') {
		setTimeout(() => {
		window.location.assign(`symplifi://--/?redirect=0`);
		},500);
            }
            if (event.detail.status === 'ACT') {
		window.location.href = event.detail.redirect_url;
            }
        });
        window.addEventListener('onCheckoutFailure', function (event) {	
	    console.log('checkout fail');
            console.log(event.detail.error);
        });
        window.addEventListener('onCheckoutPaymentFailure', (event)=> {
	    console.log('payment fail');
            console.log(event.detail.error);
        })
    </script>
</body>
</html>
